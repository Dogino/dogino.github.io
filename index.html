<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Insta Smokes</title>

<style>
  body{
    margin:0;
    padding:12px;
    background:#0e0e0e;
    color:#fff;
    font-family: Arial, sans-serif;
  }
  .wrapper{
    max-width:900px;
    margin:0 auto;
    text-align:center;
  }

  /* ===== MAP BUTTONS ===== */
  .links button{
    display:block;
    width:100%;
    margin:10px 0;
    padding:16px;
    font-size:20px;            /* ‚Üë testo */
    font-weight:700;
    background:#1b1b1b;
    color:#fff;
    border:0;
    border-radius:6px;
    cursor:pointer;
  }
  .links button:hover{
    background:#00bcd4;
    color:#000;
  }

  .dual{
    display:flex;
    gap:10px;
    margin:10px 0;
  }
  .dual button{
    flex:1;
    margin:0;
  }

  /* ===== IMAGE VIEWER ===== */
  .image-box{
    margin-top:14px;
    display:none;
    overflow:hidden;
    max-height:75vh;
    background:#000;
    border-radius:6px;
    cursor:zoom-in;
  }
  .image-box.zoomed{ cursor:grab; }

  .image-box img{
    width:100%;
    display:block;
    user-select:none;
    -webkit-user-drag:none;
    transform-origin:0 0;
    transition:transform .05s linear;
  }

  .hint{
    margin-top:8px;
    font-size:13px;            /* ‚Üë */
    color:#aaa;
  }

  /* ===== BOTTOM BUTTONS ===== */
  .external{
    margin-top:16px;
    display:flex;
    gap:12px;
    justify-content:center;
    flex-wrap:wrap;
  }
  .external a,
  .external button{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    height:52px;               /* ‚Üë altezza */
    padding:0 18px;
    font-size:16px;            /* ‚Üë testo */
    background:#2a2a2a;
    color:#ddd;
    border:0;
    border-radius:6px;
    cursor:pointer;
  }
  .external a:hover,
  .external button:hover{
    background:#444;
    color:#fff;
  }

  /* ===== IMAGE BUTTON (DOOR) ===== */
  .img-button{
    width:64px;                /* ‚Üë bottone */
    height:52px;
    padding:6px;
  }
  .img-button img{
    width:100%;
    height:100%;
    object-fit:contain;
    pointer-events:none;
    user-select:none;
    -webkit-user-drag:none;
  }

  /* ===== POPUP BASE ===== */
  .popup-backdrop{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.65);
    display:none;
    align-items:center;
    justify-content:center;
    padding:12px;
    z-index:9999;
  }
  .popup{
    width:min(520px, 95vw);
    background:#141414;
    border-radius:10px;
    overflow:hidden;
    box-shadow:0 0 40px rgba(0,0,0,.6);
    text-align:center;
    border:2px solid transparent;
  }
  .popup img{
    width:100%;
    display:block;
    user-select:none;
    -webkit-user-drag:none;
  }
  .popup .content{
    padding:18px;
  }
  .popup .content h3{
    margin:0 0 14px 0;
    font-size:20px;            /* ‚Üë popup text */
  }
  .popup .actions{
    display:flex;
    gap:12px;
    justify-content:center;
    padding:0 18px 18px 18px;
  }
  .popup .actions button{
    flex:1;
    padding:14px 10px;
    border:0;
    border-radius:8px;
    font-size:16px;            /* ‚Üë */
    font-weight:700;
    cursor:pointer;
    background:#2a2a2a;
    color:#fff;
  }
  .popup .actions button:hover{
    background:#00bcd4;
    color:#000;
  }

  /* ===== SHAKE ===== */
  @keyframes shake {
    0%   { transform: translateX(0); }
    12%  { transform: translateX(-10px); }
    25%  { transform: translateX(10px); }
    37%  { transform: translateX(-8px); }
    50%  { transform: translateX(8px); }
    62%  { transform: translateX(-6px); }
    75%  { transform: translateX(6px); }
    87%  { transform: translateX(-3px); }
    100% { transform: translateX(0); }
  }
  .popup.shake{
    animation: shake 0.45s ease;
  }

  /* ===== DOOR WARNING ===== */
  .popup.door-warning{
    border-color:#ff2b2b;
    box-shadow:0 0 0 1px rgba(255,43,43,.35),
               0 0 40px rgba(0,0,0,.7);
  }
</style>

<script>
  /* === IMAGE VIEWER === */
  let zoomed=false, isDragging=false, moved=false;
  let startX=0, startY=0, translateX=0, translateY=0, scale=1;
  const MIN_SCALE=1, MAX_SCALE=4, ZOOM_STEP=0.2;

  const clamp=(v,min,max)=>Math.max(min,Math.min(max,v));

  function applyTransform(){
    mainImage.style.transform =
      `translate(${translateX}px,${translateY}px) scale(${scale})`;
  }

  function resetView(){
    translateX=translateY=0; scale=1; zoomed=false;
    imageBox.classList.remove("zoomed");
    imageBox.style.cursor="zoom-in";
    applyTransform();
  }

  function showImage(src){
    mainImage.src=src;
    moved=false;
    resetView();
    imageBox.style.display="block";
  }

  function toggleZoom(){
    if(moved){ moved=false; return; }
    zoomed=!zoomed;
    if(zoomed){
      scale=2;
      imageBox.classList.add("zoomed");
      imageBox.style.cursor="grab";
    }else{
      resetView();
    }
    applyTransform();
  }

  function startDrag(e){
    if(!zoomed) return;
    e.preventDefault();
    isDragging=true; moved=false;
    startX=e.clientX-translateX;
    startY=e.clientY-translateY;
    imageBox.style.cursor="grabbing";
  }

  function drag(e){
    if(!isDragging||!zoomed) return;
    e.preventDefault();
    moved=true;
    translateX=e.clientX-startX;
    translateY=e.clientY-startY;
    applyTransform();
  }

  function endDrag(){
    isDragging=false;
    imageBox.style.cursor=zoomed?"grab":"zoom-in";
  }

  function wheelZoom(e){
    if(imageBox.style.display==="none") return;
    e.preventDefault();
    if(!zoomed){ zoomed=true; scale=1.6; imageBox.classList.add("zoomed"); }
    const r=imageBox.getBoundingClientRect();
    const mx=e.clientX-r.left, my=e.clientY-r.top;
    const px=(mx-translateX)/scale, py=(my-translateY)/scale;
    scale=clamp(scale+(e.deltaY<0?ZOOM_STEP:-ZOOM_STEP),MIN_SCALE,MAX_SCALE);
    translateX=mx-px*scale; translateY=my-py*scale;
    if(scale===1) resetView(); else applyTransform();
  }

  /* === POPUPS === */
  function openPopup(id,shake=false){
    const b=document.getElementById(id);
    b.style.display="flex";
    if(shake){
      const p=b.querySelector(".popup");
      p.classList.remove("shake");
      void p.offsetWidth;
      p.classList.add("shake");
    }
  }
  const closePopup=id=>document.getElementById(id).style.display="none";

  const openFaceitPopup=()=>openPopup("faceitPopupBackdrop");
  const openEseapopup =()=>openPopup("eseaPopupBackdrop");
  const openDoorPopup =()=>openPopup("doorPopupBackdrop",true);

  const faceitYes=()=>{closePopup("faceitPopupBackdrop");window.open("https://www.faceit.com","_blank");};
  const faceitNo =()=>{closePopup("faceitPopupBackdrop");window.open("https://www.twitch.tv/hitantv","_blank");};

  const eseaYes=()=>{closePopup("eseaPopupBackdrop");window.open("https://www.youtube.com/watch?v=n1Q5z8xNOTE","_blank");};
  const eseaNo =()=>{closePopup("eseaPopupBackdrop");window.open("https://www.youtube.com/watch?v=HDaaoQ6h_Xc","_blank");};

  document.addEventListener("DOMContentLoaded",()=>{
    imageBox.addEventListener("wheel",wheelZoom,{passive:false});
    mainImage.addEventListener("dragstart",e=>e.preventDefault());
    ["faceitPopupBackdrop","eseaPopupBackdrop","doorPopupBackdrop"].forEach(id=>{
      document.getElementById(id).onclick=e=>{
        if(e.target.id===id) closePopup(id);
      };
    });
    document.onkeydown=e=>{
      if(e.key==="Escape")
        ["faceitPopupBackdrop","eseaPopupBackdrop","doorPopupBackdrop"].forEach(closePopup);
    };
  });
</script>
</head>

<body>
<div class="wrapper">

  <div class="links">
    <button onclick="showImage('img/mirage.jpg')">INSTA SMOKES PER MIRAGE</button>

    <div class="dual">
      <button onclick="showImage('img/ancient_ct.jpg')">ANCIENT PER CT</button>
      <button onclick="showImage('img/ancient_t.jpg')">ANCIENT PER T</button>
    </div>

    <button onclick="showImage('img/inferno.jpg')">INSTA SMOKES PER INFERNO</button>
    <button onclick="showImage('img/overpass.jpg')">INSTA SMOKES PER OVERPASS</button>

    <div class="dual">
      <button onclick="showImage('img/train_main.jpg')">Train MAIN</button>
      <button onclick="showImage('img/train_nbk.jpg')">Train NBK/CAM</button>
    </div>
  </div>

  <div id="imageBox" class="image-box"
       onclick="toggleZoom()"
       onmousedown="startDrag(event)"
       onmousemove="drag(event)"
       onmouseup="endDrag()"
       onmouseleave="endDrag()">
    <img id="mainImage" alt="">
  </div>

  <div class="hint">
    üó£Ô∏èüó£Ô∏èüó£Ô∏èüó£Ô∏èüó£Ô∏èüó£Ô∏è "Se vuoi andare long ti flasho la smoke" üó£Ô∏èüó£Ô∏èüó£Ô∏èüó£Ô∏èüó£Ô∏è
  </div>

  <div class="external">
    <a href="https://www.google.de" target="_blank">GUGOL</a>
    <button onclick="openFaceitPopup()">FEISIT</button>
    <button onclick="openEseapopup()">ESEA</button>
    <button class="img-button" onclick="openDoorPopup()">
      <img src="img/door.jpg" alt="door">
    </button>
  </div>

</div>

<!-- FACEIT -->
<div id="faceitPopupBackdrop" class="popup-backdrop">
  <div class="popup">
    <img src="img/pain.jpg">
    <div class="content"><h3>vuoi aprire veramente feisit?</h3></div>
    <div class="actions">
      <button onclick="faceitYes()">JA</button>
      <button onclick="faceitNo()">NEIN üá©üá™</button>
    </div>
  </div>
</div>

<!-- ESEA -->
<div id="eseaPopupBackdrop" class="popup-backdrop">
  <div class="popup">
    <img src="img/pende.jpg">
    <div class="content"><h3>Vuoi andare davvero su ESEA?</h3></div>
    <div class="actions">
      <button onclick="eseaYes()">HELL YEA</button>
      <button onclick="eseaNo()">dude</button>
    </div>
  </div>
</div>

<!-- DOOR -->
<div id="doorPopupBackdrop" class="popup-backdrop">
  <div class="popup door-warning">
    <div class="content">
      <h3>DON'T DESTROY THE DOOR PORCA MAD-</h3>
    </div>
    <div class="actions">
      <button onclick="closePopup('doorPopupBackdrop')">SORI BRO (OROSPOCIUCIU)</button>
    </div>
  </div>
</div>

</body>
</html>
